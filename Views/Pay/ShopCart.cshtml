@{
    ViewData["Title"] = "Shop Cart";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shop Cart</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
        <link rel="stylesheet" href="~/CSS/ShopCart.css" />
        <link rel="stylesheet" href="~/CSS/site.css" />

   
  </head>
  <body class="bg-light">

    <div class="container" style="margin-top: 120px; margin-bottom:120px">
      <div class="row">
        <div class="col-lg-8">
          <h2 class="fs-1 fw-bold" style="color: #7c0101">
            🛍 Shop Cart
            <!-- <small class="text-muted ms-3">Number of products</small> -->
          </h2>
          <a href="Pay.html">
            <button
              class="btn btn-lg w-100 my-3 fw-bold"
              style="background-color: #7c0101; color: aliceblue"
            >
              🛒 Continue to Purchase
            </button>
          </a>

          <h4 class="" style="color: #7c0101">Summary of Request</h4>

          <div
            class="summary-box rounded shadow-sm p-3 my-3 bg-white d-flex align-items-center"
          >
            <div class="me-3">
              <img
                src="~/image/furnture1.jpg"
                class="img-hover img-fluid rounded img-thumbnail"
                alt="Sofa"
                style="width: 120px"
              />
            </div>
            <div>
              <h5 class="text-dark">Sofa Furniture</h5>
              <p class="text-secondary mb-1">
                Price: <span class="fw-bold">$2000</span>
              </p>
              <p class="text-secondary mb-1">
                Number: <span class="product-quantity fw-bold">1</span>
              </p>
              <p class="text-secondary mb-0">
                Size: <span class="dimensions fw-bold">100 × 200 cm</span>
              </p>
            </div>
          </div>

          <div
            class="summary-box rounded shadow-sm p-3 my-3 bg-white d-flex align-items-center"
          >
            <div class="me-3">
              <img
                src="~/image/furnture2.jpg"
                class="img-hover img-fluid rounded img-thumbnail"
                alt="Bed"
                style="width: 150px"
              />
            </div>
            <div>
              <h5 class="text-dark">Bed Function</h5>
              <p class="text-secondary mb-1">
                Price: <span class="fw-bold">$4000</span>
              </p>
              <p class="text-secondary mb-1">
                Number: <span class="product-quantity fw-bold">1</span>
              </p>
              <p class="text-secondary mb-0">
                Size: <span class="dimensions fw-bold">150 × 220 cm</span>
              </p>
            </div>
          </div>

          <h4 class="total-price-container fw-bold">
            Total Price:
            <span id="total-price">$0</span>
          </h4>
        </div>
        <!-- mt-5 ms-5 -->
        <div class="col-lg-4 text-center">
          <img
            src="~/image/shop cart.jpg"
            class="img-hover img-fluid rounded shadow"
            alt="Shopping Cart"
            style="width: 350px; margin-top: 140px"
          />
        </div>
      </div>
    </div>


    <script>
      // Payment Section Toggle
      document
        .getElementById("paymentToggle")
        .addEventListener("click", function () {
          const paymentMethods = document.getElementById("paymentMethods");
          if (paymentMethods.style.display === "none") {
            paymentMethods.style.display = "block";
          } else {
            paymentMethods.style.display = "none";
          }
        });

      // Payment Option Selection
      document.querySelectorAll(".payment-option").forEach((option) => {
        option.addEventListener("click", function () {
          // Remove selection from all options
          document.querySelectorAll(".payment-option").forEach((opt) => {
            opt.style.backgroundColor = "";
          });

          // Highlight selected option
          this.style.backgroundColor = "rgba(124, 1, 1, 0.05)";

          // Here you can add your payment processing logic
          console.log("Selected:", this.querySelector("h5").textContent);
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        let totalPrice = 0;

        document.querySelectorAll(".summary-box").forEach((box) => {
          const priceText = box.querySelector("p").innerText.match(/\d+/g);
          const quantity = parseInt(
            box.querySelector(".product-quantity").innerText
          );

          if (priceText) {
            totalPrice += parseInt(priceText[0]) * quantity;
          }
        });

        document.getElementById("total-price").innerText = `$${totalPrice}`;
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // التأكد من تحميل المكتبات
        console.log(
          "Bootstrap status:",
          typeof bootstrap !== "undefined" ? "Loaded" : "Not loaded"
        );

        // حل بديل للقائمة
        const navbarToggler = document.querySelector(".navbar-toggler");
        const navbarCollapse = document.querySelector(".navbar-collapse");

        navbarToggler.addEventListener("click", function () {
          navbarCollapse.classList.toggle("show");
        });
      });
    </script>
  </body>
</html>

}
